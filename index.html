<!DOCTYPE html>
<html>
<head>
  <title>rock paper scissors</title>
  <meta charset="UTF-8">
</head>
<body>
  <script>
    // randomly return 'Rock', 'Paper', or 'Scissors'
    function computerPlay(){
      const result = Math.floor(Math.random() * 3); // returns either 0, 1, or 2
      switch (result) {
        case 0: return 'rock';
        case 1: return 'paper';
        case 2: return 'scissors';
      }
    }

    function playRound(playerSelection, computerSelection) {
      playerSelection = playerSelection.toLowerCase();
      let r = 'rock';
      let p = 'paper';
      let s = 'scissors';
      let result;
      console.log('playerSelection = ' + playerSelection);
      console.log('computerSelection = ' + computerSelection);

      // if both selections are the same, return tie message string
      if (playerSelection === computerSelection) {
        // return `It's a Tie! Both chose ${playerSelection}.`;
        return [null, `It's a Tie! Both chose ${playerSelection}.`];
      }

      switch (true) {
        // case for paper vs rock
        case (playerSelection === p && computerSelection === r) || 
        (playerSelection === r && computerSelection === p):
          result = (playerSelection === p) ? 'Win' : 'Lose';
          // return `You ${result}!, Paper beats Rock.`;
          return [playerSelection === p, `You ${result}!, Paper beats Rock.`];
        // case for scissors vs paper
        case (playerSelection === s && computerSelection === p) || 
        (playerSelection === p && computerSelection === s):
          result = (playerSelection === s) ? 'Win' : 'Lose';
          // return `You ${result}!, Scissors beats Paper.`;
          return [playerSelection === s, `You ${result}!, Scissors beats Paper.`];
        // case for rock vs scissors
        case (playerSelection === r && computerSelection === s) || 
        (playerSelection === s && computerSelection === r):
          result = (playerSelection === r) ? 'Win' : 'Lose';
          // return `You ${result}!, Rock beats Scissors.`;
          return [playerSelection === r, `You ${result}!, Rock beats Scissors.`];
        default:
          return [undefined, ''];
      }
    }

    function game(rounds) {
      let playerSelection;
      let roundResult;
      let playerScore = 0;
      let computerScore = 0;
      let i = 1;

      while (i <= 5) {
        playerSelection = window.prompt(`ROUND ${i}: Rock, Paper, or Scissors?`);
        roundResult = playRound(playerSelection, computerPlay());
        switch (roundResult[0]) {
          case true:
            playerScore++;
            i++
            console.log(roundResult[1]);
            break;
          case false:
            computerScore++;
            i++
            console.log(roundResult[1]);
            break;
          case null:
            console.log(roundResult[1]);
        }
        console.log(`SCORE: ${playerScore} : ${computerScore}`);
        console.log('------------------------------------------------')
      }
      return playerScore > computerScore ? 'You won the game!' : 'You lost the game!';
    }

    console.log(game(5));

  </script>
</body>
</html>